<!-- bootstrap -->
  <body>

    <% if @products.blank? %>
      <h4>There are no items containing the <%= params[:search] %>.</h4>
    <% end %>

    <section class="jumbotron text-center">
      <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="/assets/carousel-1.jpg" class="d-block w-100" alt="First">
        </div>
        <div class="carousel-item">
          <img src="/assets/carousel-2.jpg" class="d-block w-100" alt="First">
        </div>
        <div class="carousel-item">
          <img src="/assets/carousel-3.jpg" class="d-block w-100" alt="First">
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
    </section>

    <div class="album text-muted">
      <div class="container">

        <h1>Products</h1>
          <div style="float: right;"> <%= paginate @products %> </p>
          </div>

          <!-- filterrific -->
            <%= form_for_filterrific @filterrific do |f| %>
                <div class="form-group">
                  Search
                  <%= f.text_field(:search_query, class: 'filterrific-periodically-observed') %>
                  Registered after
                  <%= f.text_field(:with_created_at_gte, class: 'js-datepicker') %>
                <div>
                  <!-- Sorted by
                  <#%= f.select(:sorted_by, @filterrific.select_options[:sorted_by]) %>
                </div> -->
                  <%= link_to('Reset filters', reset_filterrific_url,) %>
                  <%= render_filterrific_spinner %>
                  </div>
              <% end %>

              <%= render(partial: 'products/list', locals: { products: @products }) %>

    <footer class="text-muted">
      <div class="container">
        <p class="float-right">
          <a href="#">Back to top</a>
        </p>
        <p>copy right all reserve &copy;Nippl.com, <a href="../../">Visit the homepage</a> or read our <a href="../../getting-started/">getting started guide</a>.</p>
      </div>
    </footer>


    <script>
      var bounceNipple = function(combo, animationName, showAlert) {
        var animationClasses = 'animated ' + animationName;
        $('.' + combo).addClass(animationClasses);
        //  console.log('.nipple added classes to combo: %s, %s', combo, animationClasses);
        if (showAlert == true) {
          alert("GO TO HOSPITAL!!");
        }
        setTimeout(function(){
          $('.' + combo).removeClass(animationClasses);
          // console.log('.nipple removed classes to combo: %s, %s', combo, animationClasses);
        }, 1500);
      };

      $(document).ready(function() {
          var animationActions = ['bounce', 'flash', 'tada', 'swing', 'shake'];
          var prefix = 'nipple';
          animationActions.forEach(function (animationName, animationActionNo) {
            animationActionNo += 1;
            console.log(`.nipple event listener generated: ${animationName}${animationActionNo}`); // string interpolation
            // console.log('.nipple event listener: %s%d', animationName, animationActionNo); // string placeholders
            var combo = prefix + animationActionNo;
            $('#' + combo).click (function() {
              if (animationName == 'shake')
                bounceNipple(combo, animationName, true);
              else {
                bounceNipple(combo, animationName, false);
              }
            });
          });
      });
    </script>
